(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{156:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._m(1),a("p",[t._v("首先 "),a("a",{attrs:{href:"https://raw.githubusercontent.com/tuateam/tua-mp/master/examples/basic/utils/tua-mp.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("点我下载源码"),a("OutboundLink")],1),t._v("，保存到你的小程序中（假设保存在 "),a("code",[t._v("utils/tua-mp.js")]),t._v("）。")]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),a("p",[t._v("在这部分我们将使用 webpack 来打包我们的源码，但其中 webpack 繁琐的配置已预先封装在 "),a("a",{attrs:{href:"https://github.com/tuateam/tua-mp-service",target:"_blank",rel:"noopener noreferrer"}},[t._v("@tua-mp/service"),a("OutboundLink")],1),t._v(" 里了。")]),a("p",[t._v("因此很自然地，日常前端开发中的各位“老朋友们”又回来了~")]),t._m(9),t._m(10),t._m(11),a("p",[t._v("推荐使用 "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-cli"),a("OutboundLink")],1),t._v(" 一键生成项目：")]),t._m(12),t._m(13),t._m(14),a("p",[t._v("此外还对于样式的编写加入了预处理器的功能")]),t._m(15),t._m(16),t._m(17),a("p",[t._v("推荐使用 "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-cli"),a("OutboundLink")],1),t._v(" 一键生成项目：")]),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-下载源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载源码","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.下载源码")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("接着在入口的 "),s("code",[this._v("js")]),this._v(" 代码中：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("在页面中使用 "),a("code",[t._v("TuaPage")]),t._v(" 替代小程序提供的 "),a("code",[t._v("Page")])]),a("li",[t._v("在组件中使用 "),a("code",[t._v("TuaComp")]),t._v(" 替代小程序提供的 "),a("code",[t._v("Component")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("替换后即可使用开发 "),s("code",[this._v("Vue")]),this._v(" 的方式来开发小程序。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// pages/index/index.js")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" TuaPage "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'../../utils/tua-mp'")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Page -> TuaPage")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("TuaPage")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// comps/foobar/foobar.js")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" TuaComp "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'../../utils/tua-mp'")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Component -> TuaComp")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("TuaComp")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),s("p",[this._v("采用这种侵入性最小的方式，可以用于重构已有的小程序项目。即在部分页面或组件中使用 "),s("code",[this._v("tua-mp")]),this._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_2-借助构建工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-借助构建工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.借助构建工具")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("npm")]),s("li",[this._v("babel")]),s("li",[this._v("eslint")]),s("li",[this._v("less/scss/stylus")]),s("li",[this._v("...")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-1-支持预处理器的-simple-版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-支持预处理器的-simple-版本","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1.支持预处理器的 simple 版本")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://img.shields.io/badge/webpack-%5E4.8.1-green.svg",alt:"webpack version"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ vue init tua-mp-templates/simple my-project\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("开发时运行 "),a("code",[t._v("npm start")]),t._v("，"),a("code",[t._v("webpack")]),t._v(" 就会开启监听")]),a("li",[t._v("发布时运行 "),a("code",[t._v("npm run build")]),t._v("，"),a("code",[t._v("webpack")]),t._v(" 会先删除 "),a("code",[t._v("dist/")]),t._v(" 然后将源码压缩生成到其中")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在这个例子中我们将源码放在了 "),s("code",[this._v("src/")]),this._v(" 下，利用 "),s("code",[this._v("webpack")]),this._v(" 将其打包生成到 "),s("code",[this._v("dist/")]),this._v(" 目录下。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("wxss: 会被拷贝到 dist/ 下的对应路径")]),s("li",[this._v("css: 需要在 js 中引入，生成对应的 wxss")]),s("li",[this._v("less: 需要在 js 中引入，生成对应的 wxss")]),s("li",[this._v("scss/sass: 需要在 js 中引入，生成对应的 wxss")]),s("li",[this._v("stylus: 需要在 js 中引入，生成对应的 wxss")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-2-支持单文件组件的-vue-版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-支持单文件组件的-vue-版本","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2.支持单文件组件的 vue 版本")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://img.shields.io/badge/webpack-%5E4.8.1-green.svg",alt:"webpack version"}}),s("img",{attrs:{src:"https://img.shields.io/badge/vue--loader-%5E15.0.12-green.svg",alt:"vue-loader version"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ vue init tua-mp-templates/vue my-project\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在这个例子中我们添加了 "),s("code",[this._v("vue-loader")]),this._v("，让我们能够使用文件扩展名为 "),s("code",[this._v(".vue")]),this._v(" 的 "),s("code",[this._v("single-file components")]),this._v("(单文件组件) 。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("但在这个例子中的单文件组件和一般 web 端的单文件组件"),s("strong",[this._v("有所不同")]),this._v("：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("1.页面的模板需要添加 "),s("code",[this._v('lang="wxml"')])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vue extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("wxml"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 小程序模板代码 --\x3e")]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("2.原本的 "),s("code",[this._v(".json")]),this._v(" 文件变成了 "),s("code",[this._v("<config>")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vue extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 默认 json --\x3e")]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("config")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v('\n{\n    "navigationBarTitleText": "tua-mp todos",\n    "usingComponents": {\n        "Todo": "./comps/Todo/Todo",\n        "Filter": "/comps/Filter/Filter"\n    }\n}\n'),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("config")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- yaml 也支持 --\x3e")]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("config")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("yaml"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\nnavigationBarTitleText: 'tua-mp todos'\nusingComponents:\n    Todo: ./comps/Todo/Todo\n    Filter: /comps/Filter/Filter\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("config")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])}],!1,null,null,null);s.default=n.exports}}]);